import { Button } from "@material-ui/core";
import { spacing } from '@material-ui/system';
import Box from '@material-ui/core/Box';
import ReactDiffViewer from "react-diff-viewer";

export function FuncView({func, onChange}) {
    function setConfirmed(confirmed) {
        func.confirmed = confirmed;
        onChange();
    }

    return <>
        <div>
            <Box p={2} display="inline"><Button color="primary" variant="contained" size="small" onClick={() => setConfirmed(true)}>Accept</Button></Box>
            <Button color="secondary" variant="contained" size="small" onClick={() => setConfirmed(false)}>Decline</Button>
            <Button onClick={() => setConfirmed(undefined)}>Unmark</Button>
        </div>
        {func.vulnerable.length > 10000
            ? <p>{func.vulnerable}</p>
            : <ReactDiffViewer oldValue={func.vulnerable} newValue={func.fixed} splitView={true} />
        }
        
    </>;
}